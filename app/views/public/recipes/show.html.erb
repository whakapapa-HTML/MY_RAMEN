<div class="container d-flex">
  <div class="col-6">
    <h1><%= @recipe.name %></h1>
    <h4><%= @recipe.introduction %></h4><small class="text-muted">By</small><%= @recipe.user.name %><small class="text-muted"> | <%= @recipe.created_at.to_s(:datetime_jp) %></small>
    <div class="border rounded p-4 mt-5">
      <h4 class="mt-4"><%= @recipe.serving %>人前</h4>
      <table class="table">
        <thead>
          <tr>
            <th scope="col"></th>
            <th scope="col">材料</th>
            <th scope="col">分量</th>
          </tr>
        </thead>
        <tbody>
          <% @recipe.ingredients.each_with_index do |ingredient, i| %>
          <tr>
            <th scope="row"><%= i + 1 %>.</th>
            <td><%= ingredient.name %></td>
            <td><%= ingredient.amount %>g</td>
          </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  </div>
  <div class="col-6 mt-5">
    <% if @recipe.recipe_image.url.blank? %>
      <%= image_tag "m_e_others_500.png" %>
    <% else %>
      <%= image_tag @recipe.recipe_image.url %>
    <% end %>
  </div>
</div>

<div class="container d-flex mt-5 border-top">
  <div class="col-8 m-auto">
    <table class="table table-borderless">
      <thead>
        <tr>
          <th scope="col"></th>
          <th scope="col"></th>
          <th scope="col"></th>
        </tr>
      </thead>
      <tbody>
        <% @recipe.procedures.each_with_index do |procedure, i| %>
        <tr>
          <th scope="row"><%= i + 1 %>.</th>
          <td class="w-75"><%= procedure.explanation %></td>
          <% if procedure.procedure_image.url.blank? %>
          <td><%= image_tag "m_e_others_500.png", :size => '270x180' %></td>
          <% else %>
          <td class="w-25"><%= image_tag procedure.procedure_image.url, :size => '270x180' %></td>
          <% end %>
        </tr>
        <% end %>
      </tbody>
    </table>
  </div>
</div>
